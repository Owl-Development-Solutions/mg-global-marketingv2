<table
  mat-table
  #table
  [dataSource]="dataSource()"
  [trackBy]="trackById"
  class="app-table"
>
  <ng-container matColumnDef="referenceNumber">
    <!-- Reference Number Column -->
    <th
      mat-header-cell
      *matHeaderCellDef
      class="app-table__header app-table__header--with-left-border font-display"
    >
      @if (skeleton()) {
        <app-skeleton-text
          [lines]="1"
          [maxLineWidth]="100"
          [minLineWidth]="200"
        ></app-skeleton-text>
      } @else {
        Reference Number
      }
    </th>

    <td mat-cell *matCellDef="let element">
      <h4>{{ element.referenceNumber }}</h4>
    </td>
  </ng-container>

  <!-- Amount Column -->
  <ng-container matColumnDef="amount">
    <th
      mat-header-cell
      *matHeaderCellDef
      class="app-table__header app-table__header--with-left-border font-display"
    >
      @if (skeleton()) {
        <app-skeleton-text
          [lines]="1"
          [maxLineWidth]="100"
          [minLineWidth]="200"
        ></app-skeleton-text>
      } @else {
        Amount
      }
    </th>

    <td mat-cell *matCellDef="let element">
      <h4>{{ element.amount }}</h4>
    </td>
  </ng-container>

  <!-- Date Column -->
  <ng-container matColumnDef="date">
    <th
      mat-header-cell
      *matHeaderCellDef
      class="app-table__header app-table__header--with-left-border font-display"
    >
      @if (skeleton()) {
        <app-skeleton-text
          [lines]="1"
          [maxLineWidth]="100"
          [minLineWidth]="200"
        ></app-skeleton-text>
      } @else {
        Date
      }
    </th>

    <td mat-cell *matCellDef="let element">
      <h4>{{ element.date }}</h4>
    </td>
  </ng-container>

  <!-- Author Column -->
  <ng-container matColumnDef="author">
    <th
      mat-header-cell
      *matHeaderCellDef
      class="app-table__header app-table__header--with-left-border font-display"
    >
      @if (skeleton()) {
        <app-skeleton-text
          [lines]="1"
          [maxLineWidth]="100"
          [minLineWidth]="200"
        ></app-skeleton-text>
      } @else {
        Author
      }
    </th>

    <td mat-cell *matCellDef="let element">
      <h4>{{ element.author }}</h4>
    </td>
  </ng-container>

  <!-- Remarks Column -->
  <ng-container matColumnDef="remarks">
    <th
      mat-header-cell
      *matHeaderCellDef
      class="app-table__header app-table__header--with-left-border font-display"
    >
      @if (skeleton()) {
        <app-skeleton-text
          [lines]="1"
          [maxLineWidth]="100"
          [minLineWidth]="200"
        ></app-skeleton-text>
      } @else {
        Remarks
      }
    </th>

    <td mat-cell *matCellDef="let element">
      <h4>{{ element.remarks }}</h4>
    </td>
  </ng-container>

  <!-- Status Column -->
  <ng-container matColumnDef="status">
    <th
      mat-header-cell
      *matHeaderCellDef
      class="app-table__header app-table__header--with-left-border font-display"
    >
      @if (skeleton()) {
        <app-skeleton-text
          [lines]="1"
          [maxLineWidth]="100"
          [minLineWidth]="200"
        ></app-skeleton-text>
      } @else {
        Status
      }
    </th>

    <td mat-cell *matCellDef="let element">
      <h4>{{ element.status }}</h4>
    </td>
  </ng-container>

  <!-- header and row definitions -->
  <tr
    mat-header-row
    *matHeaderRowDef="displayedColumns; sticky: true"
    class="bg-gray-100"
  ></tr>

  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns"
    class="hover:bg-gray-50 transition-colors duration-150"
  ></tr>

  <!-- empty state -->
  @if (!skeleton()) {
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell text-center py-6" colspan="999">
        <app-empty-history-message
          [message]="'Your wallet has no record'"
          [icon]="'wallet'"
        ></app-empty-history-message>
      </td>
    </tr>
  }
</table>
